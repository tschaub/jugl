<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>jugl:repeat &mdash; Jugl v0.9 documentation</title>
    <link rel="stylesheet" href="../_static/default.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '0.9',
        COLLAPSE_MODINDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  false
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="top" title="Jugl v0.9 documentation" href="../index.html" />
    <link rel="up" title="Attributes" href="../attributes.html" />
    <link rel="next" title="jugl:define" href="define.html" />
    <link rel="prev" title="jugl:replace" href="replace.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="define.html" title="jugl:define"
             accesskey="N">next</a></li>
        <li class="right" >
          <a href="replace.html" title="jugl:replace"
             accesskey="P">previous</a> |</li>
        <li><a href="../index.html">Jugl v0.9 documentation</a> &raquo;</li>
          <li><a href="../attributes.html" accesskey="U">Attributes</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="jugl-repeat">
<span id="id1"></span><h1>jugl:repeat<a class="headerlink" href="#jugl-repeat" title="Permalink to this headline">Â¶</a></h1>
<p>The <tt class="docutils literal"><span class="pre">jugl:repeat</span></tt> attribute is used to duplicate an element for every item in a sequence.</p>
<p>Syntax:</p>
<div class="highlight-python"><pre>argument ::= variable_name expression
variable_name ::= Name</pre>
</div>
<p>Given an array or other object to use as a sequence, <tt class="docutils literal"><span class="pre">jugl:repeat</span></tt> statements will replicate an element (and all child elements) for each item in the sequence.  When an array is used as the expression, the <tt class="docutils literal"><span class="pre">variable_name</span></tt> will be set to the value of each item in the array (not to the array indices).  When an object is used as the expression, the <tt class="docutils literal"><span class="pre">variable_name</span></tt> will be set to each property name (or key) in the object (and not the property value).</p>
<p>In addition to having access to the <tt class="docutils literal"><span class="pre">variable_name</span></tt>, the element containing the attribute and all child elements will have access to a special repeat variable.  The repeat variable is an object available to the element with the <tt class="docutils literal"><span class="pre">jugl:repeat</span></tt> attribute and all child elements.  This object is given a property for each <tt class="docutils literal"><span class="pre">variable_name</span></tt> - in the case of nested repeat statements, the object will have multiple properties.  These named properties are themselves objects, each with special properties that provide access to information about the iteration.</p>
<p>Properties accessible within repeat statements:</p>
<ul class="simple">
<li>index - repetition number, starting from zero.</li>
<li>number - repetition number, starting from one.</li>
<li>even - <tt class="docutils literal"><span class="pre">true</span></tt> for even-indexed repetitions (0, 2, 4, ...).</li>
<li>odd - <tt class="docutils literal"><span class="pre">true</span></tt> for odd-indexed repetitions (1, 3, 5, ...).</li>
<li>start - <tt class="docutils literal"><span class="pre">true</span></tt> for the starting repetition (index 0).</li>
<li>end - <tt class="docutils literal"><span class="pre">true</span></tt> for the ending, or final, repetition.</li>
<li>length - length of the sequence, which will be the total number of repetitions.</li>
</ul>
<p>The following markup creates a template that uses several <tt class="docutils literal"><span class="pre">jugl:repeat</span></tt> statements:</p>
<div class="highlight-html"><div class="highlight"><pre><span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">&quot;template_id&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;ul&gt;</span>
        <span class="nt">&lt;li</span> <span class="na">jugl:repeat=</span><span class="s">&quot;item tasks&quot;</span> <span class="na">jugl:content=</span><span class="s">&quot;repeat.item.number + &#39;: &#39; + item&quot;</span><span class="nt">&gt;</span>
            This will get replaced by something like &#39;#: task&#39;.
        <span class="nt">&lt;/li&gt;</span>
    <span class="nt">&lt;/ul&gt;</span>
    <span class="nt">&lt;p&gt;</span>
        Statements about my dog:
        <span class="nt">&lt;span</span> <span class="na">jugl:repeat=</span><span class="s">&quot;trait dog&quot;</span> <span class="na">jugl:content=</span><span class="s">&quot;&#39;Her &#39; + trait + &#39; is &#39; + dog[trait] + &#39;.&#39;&quot;</span><span class="nt">&gt;</span>
            a statement here
        <span class="nt">&lt;/span&gt;</span>
    <span class="nt">&lt;/p&gt;</span>
    <span class="nt">&lt;table&gt;</span>
        <span class="nt">&lt;tr</span> <span class="na">jugl:repeat=</span><span class="s">&quot;row data&quot;</span><span class="nt">&gt;</span>
            <span class="nt">&lt;td</span> <span class="na">jugl:repeat=</span><span class="s">&quot;cell data[repeat.row.index]&quot;</span>
                <span class="na">jugl:content=</span><span class="s">&quot;cell&quot;</span>
                <span class="na">jugl:attributes=</span><span class="s">&quot;class repeat.row.odd ? &#39;oddrow&#39; : &#39;evenrow&#39;&quot;</span><span class="nt">&gt;</span>
                cell contents get written here
            <span class="nt">&lt;/td&gt;</span>
        <span class="nt">&lt;/tr&gt;</span>
    <span class="nt">&lt;/table&gt;</span>
<span class="nt">&lt;/div&gt;</span>
</pre></div>
</div>
<p>The above template could be processed with the following code:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="kd">var</span> <span class="nx">tasks</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;work&quot;</span><span class="o">,</span> <span class="s2">&quot;play&quot;</span><span class="o">,</span> <span class="s2">&quot;sleep&quot;</span><span class="p">];</span>
<span class="kd">var</span> <span class="nx">dog</span> <span class="o">=</span> <span class="p">{</span><span class="nx">bark</span><span class="o">:</span> <span class="s2">&quot;loud&quot;</span><span class="o">,</span> <span class="nx">color</span><span class="o">:</span> <span class="s2">&quot;black&quot;</span><span class="p">};</span>

<span class="kd">var</span> <span class="nx">data</span> <span class="o">=</span> <span class="p">[</span>
    <span class="p">[</span><span class="s2">&quot;r0c0&quot;</span><span class="o">,</span> <span class="s2">&quot;r0c1&quot;</span><span class="p">]</span><span class="o">,</span>
    <span class="p">[</span><span class="s2">&quot;r1c0&quot;</span><span class="o">,</span> <span class="s2">&quot;r1c1&quot;</span><span class="p">]</span>
<span class="p">];</span>

<span class="p">(</span><span class="k">new</span> <span class="nx">jugl</span><span class="p">.</span><span class="nx">Template</span><span class="p">(</span><span class="s2">&quot;template_id&quot;</span><span class="p">)).</span><span class="nx">process</span><span class="p">();</span>
</pre></div>
</div>
<p>And the processed template would look like this:</p>
<div class="highlight-html"><div class="highlight"><pre><span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">&quot;template_id&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;ul&gt;</span>
        <span class="nt">&lt;li&gt;</span>1: work<span class="nt">&lt;/li&gt;</span>
        <span class="nt">&lt;li&gt;</span>2: play<span class="nt">&lt;/li&gt;</span>
        <span class="nt">&lt;li&gt;</span>3: sleep<span class="nt">&lt;/li&gt;</span>
    <span class="nt">&lt;/ul&gt;</span>
    <span class="nt">&lt;p&gt;</span>
        Statements about my dog:
        <span class="nt">&lt;span&gt;</span>
            Her bark is loud.
        <span class="nt">&lt;/span&gt;</span>
        <span class="nt">&lt;span&gt;</span>
            Her color is black.
        <span class="nt">&lt;/span&gt;</span>
    <span class="nt">&lt;/p&gt;</span>
    <span class="nt">&lt;table&gt;</span>
        <span class="nt">&lt;tr&gt;</span>
            <span class="nt">&lt;td</span> <span class="na">class=</span><span class="s">&quot;evenrow&quot;</span><span class="nt">&gt;</span>
                r0c0
            <span class="nt">&lt;/td&gt;</span>
            <span class="nt">&lt;td</span> <span class="na">class=</span><span class="s">&quot;evenrow&quot;</span><span class="nt">&gt;</span>
                r0c1
            <span class="nt">&lt;/td&gt;</span>
        <span class="nt">&lt;/tr&gt;</span>
        <span class="nt">&lt;tr&gt;</span>
            <span class="nt">&lt;td</span> <span class="na">class=</span><span class="s">&quot;oddrow&quot;</span><span class="nt">&gt;</span>
                r1c0
            <span class="nt">&lt;/td&gt;</span>
            <span class="nt">&lt;td</span> <span class="na">class=</span><span class="s">&quot;oddrow&quot;</span><span class="nt">&gt;</span>
                r1c1
            <span class="nt">&lt;/td&gt;</span>
        <span class="nt">&lt;/tr&gt;</span>
    <span class="nt">&lt;/table&gt;</span>
<span class="nt">&lt;/div&gt;</span>
</pre></div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
            <h4>Previous topic</h4>
            <p class="topless"><a href="replace.html"
                                  title="previous chapter">jugl:replace</a></p>
            <h4>Next topic</h4>
            <p class="topless"><a href="define.html"
                                  title="next chapter">jugl:define</a></p>
          <div id="searchbox" style="display: none">
            <h3>Quick search</h3>
              <form class="search" action="../search.html" method="get">
                <input type="text" name="q" size="18" />
                <input type="submit" value="Go" />
                <input type="hidden" name="check_keywords" value="yes" />
                <input type="hidden" name="area" value="default" />
              </form>
              <p class="searchtip" style="font-size: 90%">
              Enter search terms or a module, class or function name.
              </p>
          </div>
          <script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="define.html" title="jugl:define"
             >next</a></li>
        <li class="right" >
          <a href="replace.html" title="jugl:replace"
             >previous</a> |</li>
        <li><a href="../index.html">Jugl v0.9 documentation</a> &raquo;</li>
          <li><a href="../attributes.html" >Attributes</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
      &copy; Copyright 2009, Tim Schaub.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 0.6.1.
    </div>
  </body>
</html>