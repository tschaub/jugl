<html>
    <head>
        <title>Jugl Tests</title>
	<script src="syntax/scripts/shCore.js"></script>
	<script src="syntax/scripts/shBrushJScript.js"></script>
	<script src="syntax/scripts/shBrushXml.js"></script>
	<script src="syntax/scripts/shBrushPlain.js"></script>
	<script src="other/getElementsByClassName-1.0.1.js"></script>
        <script src="fdoc/lib/fdoc.js"></script>
        <script src="../build/jugl.js"></script>
	<link type="text/css" rel="stylesheet" href="fdoc/theme/style.css"/>
	<link type="text/css" rel="stylesheet" href="syntax/styles/shCore.css"/>
	<link type="text/css" rel="stylesheet" href="syntax/styles/shThemeDefault.css"/>
    </head>
    <body>

        <h2>Basics</h2>
        <p>Given the following template:</p>
        <div class="fdoc" id="template-1">
            <p jugl:content="greeting">Your greeting here.</p>
        </div>

        <p>The following code produces the output below:</p>
        <div class="fdoc-hide" id="exp-1">
            <p>Hello World!</p>
        </div>
        <script>
            fdoc({
                fn: function() {
                    var template = new jugl.Template("template-1");
                    template.process({
                        context: {
                            greeting: "Hello World!"
                        }
                    });
                    return template.node;
                },
                exp: fdoc.el("exp-1", "template-1")
            });
        </script>
        
        <h2>Combo</h2>
        <p>The template below uses multiple Jugl statements:</p>
        <div class="fdoc" id="template-2">
            <ul>
                <li jugl:repeat="item tasks" jugl:content="repeat.item.number + ': ' + item">
                    This will get replaced by something like '#: task'.
                </li>
            </ul>
            <p>
                Statements about my dog:
                <span jugl:repeat="trait dog" jugl:content="'Her ' + trait + ' is ' + dog[trait] + '.'">
                    a statement here
                </span>
            </p>
            <table>
                <tr jugl:repeat="row data">
                    <td jugl:repeat="cell data[repeat.row.index]"
                        jugl:content="cell"
                        jugl:attributes="class repeat.row.odd ? 'oddrow' : 'evenrow'">
                        cell contents get written here
                    </td>
                </tr>
            </table>
        </div>
        <p>The following code processes the above template and produces the output below.</p>
        <div class="fdoc-hide" id="exp-2">
            <ul>
                <li>1: work</li>
                <li>2: play</li>
                <li>3: sleep</li>
            </ul>
            <p>
                Statements about my dog:
                <span>
                    Her bark is loud.
                </span>
                <span>
                    Her color is black.
                </span>
            </p>
            <table>
                <tr>
                    <td class="evenrow">
                        r0c0
                    </td>
                    <td class="evenrow">
                        r0c1
                    </td>
                </tr>
                <tr>
                    <td class="oddrow">
                        r1c0
                    </td>
                    <td class="oddrow">
                        r1c1
                    </td>
                </tr>
            </table>
        </div>
        <script>
            fdoc({
                fn: function() {
                    var context = {
                        tasks: ["work", "play", "sleep"],
                        dog: {bark: "loud", color: "black"},
                        data: [
                            ["r0c0", "r0c1"],
                            ["r1c0", "r1c1"]
                        ]
                    };
                    var template = new jugl.Template("template-2");
                    template.process({context: context});
                    return template.node;
                },
                exp: fdoc.el("exp-2", "template-2")
            });
        </script>
        
    </body>
</html>